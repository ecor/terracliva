% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dryspellcliva.R
\name{dryspellcliva}
\alias{dryspellcliva}
\title{Dry Spell Analysis}
\usage{
dryspellcliva(
  x,
  timex,
  valmin = 1,
  months = c(12, 1, 2, 3),
  dryspell_starts_in_months = TRUE,
  dryspell_ends_in_months = FALSE,
  start_day = 1,
  fun_aggr = "max",
  thres_value = 150,
  set_thres_value_as_na = FALSE,
  min_dry_spell_length = 3,
  na.rm = FALSE,
  summary_regress = FALSE,
  signif = 0.1,
  ...
)
}
\arguments{
\item{x}{time series (e.g. daily precipitation)}

\item{timex}{corresponding vector of dates for \code{x}}

\item{valmin}{minimum value for rainfall}

\item{months}{months of the rainy season}

\item{dryspell_starts_in_months}{logical if \code{TRUE} dry spell starting on a date within the selected \code{months} are considered}

\item{dryspell_ends_in_months}{logical if \code{TRUE} dry spell ending on a date within the selected \code{months} are considered}

\item{start_day}{starting day of the month. It can be different from 1.}

\item{fun_aggr}{character aggregation function name.}

\item{thres_value}{threshold value as a maximum length in days for a dry spell.}

\item{set_thres_value_as_na}{logical it sets \code{thres_value} (if possible) when the value is previously not assigned}

\item{min_dry_spell_length}{minimum length (number of days) of a dry spell in order to be taken in consideration. Default is 3.}

\item{na.rm}{a logical evaluating to \code{TRUE} or \code{FALSE} or something else indicating whether or how many NA values should be stripped before the computation proceeds. Details in function code.}

\item{summary_regress}{logical value. Default is \code{FALSE} , if \code{TRUE} summary with \code{\link{regress}} is shown.}

\item{signif}{test significance, see \code{\link{regress}}.}

\item{...}{further arguments}
}
\description{
Dry Spell Analysis
}
\examples{




library(magrittr)
library(terra)


years <- 1982:2023
dataset_path <- "/home/ecor/local/rpackages/jrc/terracliva/inst/ext_data/precipitation"
dataset_path <- system.file("ext_data/precipitation",package="terracliva")
dataset_daily <- "\%s/daily/chirps_daily_goma_\%04d.grd" \%>\% sprintf(dataset_path,years) \%>\% rast()


prec <- as.numeric(dataset_daily[100])
timeprec <- time(dataset_daily)

out <- dryspellcliva(prec,timeprec)
out_df <- dryspellcliva(prec,timeprec,fun_aggr=NULL)
out10 <- dryspellcliva(prec,timeprec,valmin=10)

precb <- prec
precb[1:500] <- 10
outb_max <- dryspellcliva(precb,timeprec,valmin=1,fun_aggr="max")
outb_mean <- dryspellcliva(precb,timeprec,valmin=1,fun_aggr="mean")
outb_several <- dryspellcliva(precb,timeprec,valmin=1,fun_aggr=c("q25","median","mean","q75","q90","max"))
outb_several_regress <- dryspellcliva(precb,timeprec,valmin=1,fun_aggr=c("q25","median","mean","q75","q90","max"),summary_regress=TRUE)



}
\references{
Usman, M.T. and Reason, C.J.C. (2004) Dry Spell Frequencies and Their Variability over Southern Africa. Climate Research, 26, 199-211.
\url{https://doi.org/10.3354/cr026199}

Thoithi, W., Blamey, R. C., & Reason, C. J. C. (2021). 
Dry spells, wet days, and their trends across southern Africa during the summer rainy season. 
Geophysical Research Letters, 48, e2020GL091041. 
\url{https://doi.org/10.1029/2020GL091041}
}
